@model List<PD3_Web.Models.Enrollment>

<div class="mb-3">
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/StudentSearch">Studenti pēc vārda</a>
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/CoursesMinCredits">Kursi min kredīti</a>
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/EnrollmentsByStudent">Reģistrācijas pēc studentId</a>
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/StudentEnrollmentCounts">Studenti + count</a>
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/TopCourses">TOP kursi</a>
    <a class="btn btn-outline-secondary btn-sm" href="/Queries/LatestEnrollments">Pēdējās reģistrācijas</a>
</div>

<h2>Reģistrācijas pēc StudentId</h2>

<form method="post" class="mb-3">
    <label class="form-label">StudentId:</label>
    <input type="number" name="studentId" class="form-control" value="@(ViewBag.StudentId ?? 1)" min="1" />
    <button class="btn btn-primary mt-2">Meklēt</button>
</form>

@if (Model == null)
{
    <p>Ievadi StudentId un spied “Meklēt”.</p>
}
else if (Model.Count == 0)
{
    <p>(nav rezultātu)</p>
}
else
{
    <table class="table table-striped">
        <thead>
            <tr><th>ID</th><th>Students</th><th>Kurss</th><th>Datums</th></tr>
        </thead>
        <tbody>
            @foreach (var e in Model)
            {
                <tr>
                    <td>@e.Id</td>
                    <td>@e.Student?.FullName</td>
                    <td>@e.Course?.Title</td>
                    <td>@e.EnrolledAt.ToString("yyyy-MM-dd")</td>
                </tr>
            }
        </tbody>
    </table>
}

